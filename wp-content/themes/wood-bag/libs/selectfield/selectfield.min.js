(function(b){"function"===typeof define&&define.amd?define(["jquery"],b):"object"===typeof exports?module.exports=b:b(jQuery)})(function(b){var l=b(document),h=b(".select-field");b(".select-field-value");l.on("click",function(b){h.is(b.target)||0!==h.has(b.target).length||h.removeClass("active")});var k={init:function(c){c=b.extend({showItems:6},c);return this.each(function(){var d=b(this),k=d.find("input.selected-value.default"),f=d.find("input.selected-value"),m=f.val(),g=d.find(".select-field-value"),
l=d.find(".select-list"),e=d.find(".select-list .item");d.find(".select-list .item.selected");var r=k.attr("name");g.click(function(){d.hasClass("active")?h.removeClass("active"):(h.removeClass("active"),d.addClass("active"));0<c.showItems&&l.css("max-height",e.outerHeight()*c.showItems)});if(d.hasClass("multiple")){var t=function(){e.each(function(){var a=b(this);a.data("value");var n=a.html();if(a.hasClass("selected"))return g.html(n),!1;g.html("")})},u=f.map(function(){return this.getAttribute("value")}).get(),
p=!0;e.each(function(){var a=b(this),n=a.data("value"),d=a.html();jQuery.each(u,function(b,c){n==c&&(a.addClass("selected"),p&&(g.html(d),p=!1))})});e.click(function(){var a=b(this),c=a.data("value");a.html();a.hasClass("selected")?(a.removeClass("selected"),d.find("input.selected-value:not(.default)").each(function(){var a=b(this);a.val()==c&&a.remove()})):(a.addClass("selected"),d.prepend('<input type="hidden" name="'+r+'" class="selected-value" value="'+c+'">'));t()})}else{var q=function(){e.each(function(){var a=
b(this),c=a.data("value"),d=a.html();if(m&&m==c)return e.removeClass("selected"),a.addClass("selected"),g.html(d),f.val(c),!1;a.hasClass("selected")&&(f.val(c),g.html(d))})};f.on("change paste",function(){m=f.val();q()});q();e.click(function(){var a=b(this),c=a.data("value"),d=a.html();e.removeClass("selected");a.addClass("selected");f.val(c);g.html(d);h.removeClass("active")})}})}};b.fn.selectField=function(c){if(k[c])return k[c].apply(this,Array.prototype.slice.call(arguments,1));if("object"!==
typeof c&&c)b.error("\u041c\u0435\u0442\u043e\u0434 \u0441 \u0438\u043c\u0435\u043d\u0435\u043c "+c+" \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u0434\u043b\u044f $.modal");else return k.init.apply(this,arguments)}});